<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>×‘×“×™×§×” - ×›×œ××•×‘×™×œ</title>
</head>
<body>
    <h1>×‘×“×™×§×ª ×›×œ××•×‘×™×œ ×˜×¨×™×™×“ ××™×Ÿ ××•×“×™×¢×™×Ÿ</h1>

    <script src="js/showroom-config.js"></script>
    <script src="js/generic-layout-generator.js"></script>
    <script src="js/calc-generic.js"></script>
    
    <script>
        console.log('âœ“ Modules loaded\n');

        // Test: ×›×œ××•×‘×™×œ - 25 ×¨×›×‘×™×
        console.log('=== ×‘×“×™×§×”: ×›×œ××•×‘×™×œ - 25 ×¨×›×‘×™× ===');
        const prefix = 'km-2026-01';
        const totalCars = 25;
        
        // ×“×•×“ ×¢×–×¨× - ×× ×”×œ
        console.log('\nğŸ‘” ×“×•×“ ×¢×–×¨× - ×× ×”×œ ××•×œ×:');
        const davidData = {
            cars: 5,
            branchTarget: 20,
            financePercent: 35,
            stockPercent: 45,
            warrantyCommission: 300,
            topserviceCommission: 200,
            demo: 100,
            diff: 50,
            finance: 500,
            tradein: 800
        };
        
        const davidResult = calculateKalmobilManagerCommissions(prefix, 'david', davidData, totalCars);
        console.log('×ª×•×¦××•×ª ×“×•×“:');
        console.log(`  ××¡×™×¨×•×ª ×¨×›×‘ (21-25): â‚ª${davidResult.carsComm || 'N/A'}`);
        console.log(`  ×¨×›×™×‘ ×¨×›×‘×™×: â‚ª${davidResult.vehiclesComponent}`);
        console.log(`  ×¨×›×™×‘ ××™××•×Ÿ: â‚ª${davidResult.financeComponent}`);
        console.log(`  ×¨×›×™×‘ ×˜×¨×™×™×“ ××™×Ÿ: â‚ª${davidResult.tradeInComponent}`);
        console.log(`  ×¡×”"×›: â‚ª${davidResult.total}`);
        
        // ××‘×™×¢×“ ×œ×•×œ××™ - × ×¦×™×’
        console.log('\nğŸ’¼ ××‘×™×¢×“ ×œ×•×œ××™ - ××™×© ××›×™×¨×•×ª:');
        const aviadData = {
            cars: 15,
            branchTarget: 20,
            financePercent: 35,
            stockPercent: 45,
            warrantyCommission: 400,
            topserviceCommission: 250,
            demo: 150,
            diff: 75,
            finance: 600,
            tradein: 900
        };
        
        const aviadResult = calculateKalmobilSalespersonCommissions(prefix, 'aviad', aviadData, totalCars);
        console.log('×ª×•×¦××•×ª ××‘×™×¢×“:');
        console.log(`  ×¨×›×™×‘ ×¨×›×‘×™×: â‚ª${aviadResult.vehiclesComponent}`);
        console.log(`  ×¨×›×™×‘ ××™××•×Ÿ: â‚ª${aviadResult.financeComponent}`);
        console.log(`  ×¨×›×™×‘ ×˜×¨×™×™×“ ××™×Ÿ: â‚ª${aviadResult.tradeInComponent}`);
        console.log(`  ×¡×”"×›: â‚ª${aviadResult.total}`);
        
        // ×“×•×“ ×”×™×¨×©×”×•×¨×Ÿ - ×ª×¤×¢×•×œ
        console.log('\nâš™ï¸ ×“×•×“ ×”×™×¨×©×”×•×¨×Ÿ - ××™×© ×ª×¤×¢×•×œ:');
        const davidHData = {
            warrantyCommission: 200,
            topserviceCommission: 150,
            diff: 50,
            finance: 300,
            tradein: 400
        };
        
        const davidHResult = calculateKalmobilOperationsCommissions(prefix, 'david-h', davidHData);
        console.log('×ª×•×¦××•×ª ×“×•×“ ×”:');
        console.log(`  ×¨×›×™×‘ ×¨×›×‘×™×: â‚ª${davidHResult.vehiclesComponent}`);
        console.log(`  ×¨×›×™×‘ ××™××•×Ÿ: â‚ª${davidHResult.financeComponent}`);
        console.log(`  ×¨×›×™×‘ ×˜×¨×™×™×“ ××™×Ÿ: â‚ª${davidHResult.tradeInComponent}`);
        console.log(`  ×¡×”"×›: â‚ª${davidHResult.total}`);
        
        console.log('\nğŸ¯ ×¡×™×›×•× ×›×œ×œ×™:');
        console.log(`×¡×”"×› ××¡×™×¨×•×ª ×¡× ×™×£: ${totalCars}`);
        console.log(`×¡×”"×› ×¢××œ×•×ª ×“×•×“ (×× ×”×œ): â‚ª${davidResult.total.toLocaleString()}`);
        console.log(`×¡×”"×› ×¢××œ×•×ª ××‘×™×¢×“ (× ×¦×™×’): â‚ª${aviadResult.total.toLocaleString()}`);
        console.log(`×¡×”"×› ×¢××œ×•×ª ×“×•×“ ×”' (×ª×¤×¢×•×œ): â‚ª${davidHResult.total.toLocaleString()}`);
        console.log(`×¡×”"×› ×›×•×œ×œ: â‚ª${(davidResult.total + aviadResult.total + davidHResult.total).toLocaleString()}`);
        
        console.log('\nâœ… ×‘×“×™×§×” ×”×•×©×œ××”!');
    </script>
</body>
</html>
