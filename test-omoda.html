<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ§ª ×‘×“×™×§×”: ××•××•×“×” ×’'××§×• ××•×“×™×¢×™×Ÿ</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/new-layout.css">
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 20px; }
        .test-container { max-width: 1400px; margin: 0 auto; background: white; padding: 30px; border-radius: 15px; }
        .test-header { text-align: center; margin-bottom: 30px; color: #764ba2; }
        .test-info { background: #e3f2fd; padding: 15px; border-radius: 10px; margin: 20px 0; border-left: 5px solid #2196f3; }
    </style>
</head>
<body>
    <div class="test-container">
        <div class="test-header">
            <h1>ğŸ§ª ×‘×“×™×§×”: ××•××•×“×” ×’'××§×• ××•×“×™×¢×™×Ÿ</h1>
            <p>×× ×”×œ×ª (××•×“×œ ××™×¦×•×‘×™×©×™) + 2 × ×¦×™×’×™× (××•×“×œ ×™×•× ×“××™) + ××™×© ×ª×¤×¢×•×œ</p>
        </div>

        <div class="test-info">
            <h3>ğŸ“‹ ×ª×¨×—×™×© ×”×‘×“×™×§×”:</h3>
            <ul>
                <li><strong>×™×¢×“ ×¡× ×™×£</strong>: 20 ××¡×™×¨×•×ª</li>
                <li><strong>×”×™×œ×” (×× ×”×œ×ª)</strong>: 5 ××¡×™×¨×•×ª, 6 ×‘×™×˜×•×—, 4 ××—×¨×™×•×ª, 8/10 ×˜×•×¤ (80%), ×¦×™×•×Ÿ 85</li>
                <li><strong>×©×™×¨ (× ×¦×™×’)</strong>: ×™×¢×“ 8, ××¡×¨ 8 (100%), 5 ×‘×™×˜×•×—, 6/8 ×˜×•×¤ (75%), 3 ××—×¨×™×•×ª, ×¦×™×•×Ÿ 92</li>
                <li><strong>×™×”×‘ (× ×¦×™×’)</strong>: ×™×¢×“ 7, ××¡×¨ 7 (100%), 4 ×‘×™×˜×•×—, 5/7 ×˜×•×¤ (71%), 2 ××—×¨×™×•×ª, ×¦×™×•×Ÿ 88</li>
                <li><strong>××©×¨ (×ª×¤×¢×•×œ)</strong>: 8 ×‘×™×˜×•×—</li>
            </ul>
            <h4>×¦×¤×™:</h4>
            <ul>
                <li><strong>×¡×”"×› ××¡×™×¨×•×ª:</strong> 5 + 8 + 7 = 20 (×¢××“ ×‘×™×¢×“!)</li>
                <li><strong>×”×™×œ×”:</strong> 20Ã—200 = â‚ª4,000 (××¡×™×¨×•×ª) + 450 (×‘×™×˜×•×—) + 240 (××—×¨×™×•×ª) + 1,500 (×˜×•×¤ 80%) = â‚ª6,190</li>
                <li><strong>×©×™×¨:</strong> ×‘×•× ×•×¡ ×¡× ×™×£ âœ…, ×‘×•× ×•×¡ ××™×©×™ âœ…, ×‘×•× ×•×¡ ×œ×§×•×— ×¡××•×™ âœ…</li>
                <li><strong>×™×”×‘:</strong> ×‘×•× ×•×¡ ×¡× ×™×£ âœ…, ×‘×•× ×•×¡ ××™×©×™ âœ…, ×œ×œ× ×‘×•× ×•×¡ ×œ×§×•×— ×¡××•×™ (×‘×™×Ÿ 80-89)</li>
                <li><strong>××©×¨:</strong> 20 ×˜×•×¤ / 15 ×¤×•×˜× ×¦×™××œ = 133% â†’ 80 ×©"×— + 8Ã—75 ×‘×™×˜×•×—</li>
            </ul>
        </div>

        <div id="layout-container"></div>
    </div>

    <script src="js/showroom-config.js"></script>
    <script src="js/generic-layout-generator.js"></script>
    <script src="js/calc-generic.js"></script>
    <script>
        console.log('âœ“ All modules loaded');

        const showroomId = 'omoda-modiin';
        const month = '2026-01';
        
        // Create layout
        const container = document.getElementById('layout-container');
        container.innerHTML = createGenericMonthLayout(showroomId, month);
        console.log('âœ“ Layout created');

        // Fill test data
        const prefix = 'om-2026-01';
        setTimeout(() => {
            // Branch
            document.getElementById(`${prefix}-branch-target`).value = 20;
            
            // Hila (Manager)
            document.getElementById(`${prefix}-hila-cars`).value = 5;
            document.getElementById(`${prefix}-hila-insurance`).value = 6;
            document.getElementById(`${prefix}-hila-warranty`).value = 4;
            document.getElementById(`${prefix}-hila-topservice`).value = 8;
            document.getElementById(`${prefix}-hila-topservice-potential`).value = 10;
            document.getElementById(`${prefix}-hila-mystery`).value = 85;
            document.getElementById(`${prefix}-hila-demo`).value = 100;
            document.getElementById(`${prefix}-hila-diff`).value = 50;
            
            // Shir (Salesperson)
            document.getElementById(`${prefix}-shir-target`).value = 8;
            document.getElementById(`${prefix}-shir-cars`).value = 8;
            document.getElementById(`${prefix}-shir-insurance`).value = 5;
            document.getElementById(`${prefix}-shir-topservice`).value = 6;
            document.getElementById(`${prefix}-shir-topservice-potential`).value = 8;
            document.getElementById(`${prefix}-shir-warranty`).value = 3;
            document.getElementById(`${prefix}-shir-mystery`).value = 92;
            document.getElementById(`${prefix}-shir-demo`).value = 120;
            document.getElementById(`${prefix}-shir-diff`).value = 60;
            
            // Yehav (Salesperson)
            document.getElementById(`${prefix}-yehav-target`).value = 7;
            document.getElementById(`${prefix}-yehav-cars`).value = 7;
            document.getElementById(`${prefix}-yehav-insurance`).value = 4;
            document.getElementById(`${prefix}-yehav-topservice`).value = 5;
            document.getElementById(`${prefix}-yehav-topservice-potential`).value = 7;
            document.getElementById(`${prefix}-yehav-warranty`).value = 2;
            document.getElementById(`${prefix}-yehav-mystery`).value = 88;
            document.getElementById(`${prefix}-yehav-demo`).value = 100;
            document.getElementById(`${prefix}-yehav-diff`).value = 50;
            
            // Asher (Operations)
            document.getElementById(`${prefix}-asher-insurance`).value = 8;
            
            console.log('âœ“ Test data filled');
            
            // Run calculation
            calculateGenericMonth(showroomId, month);
            console.log('âœ“ Calculation completed');
            
            // Verify results
            setTimeout(() => {
                const totalCars = document.getElementById(`${prefix}-perf-cars-actual`)?.textContent || '0';
                const hilaTotal = document.getElementById(`${prefix}-hila-total-display`)?.textContent || 'â‚ª0';
                const shirTotal = document.getElementById(`${prefix}-shir-total-display`)?.textContent || 'â‚ª0';
                const yehavTotal = document.getElementById(`${prefix}-yehav-total-display`)?.textContent || 'â‚ª0';
                const asherTotal = document.getElementById(`${prefix}-asher-total-display`)?.textContent || 'â‚ª0';
                
                console.log('ğŸ“Š Results:');
                console.log('  Total Cars:', totalCars);
                console.log('  Hila Total:', hilaTotal);
                console.log('  Shir Total:', shirTotal);
                console.log('  Yehav Total:', yehavTotal);
                console.log('  Asher Total:', asherTotal);
                
                // Add results to page
                const resultsDiv = document.createElement('div');
                resultsDiv.className = 'test-info';
                resultsDiv.style.background = '#e8f5e9';
                resultsDiv.style.borderLeftColor = '#4caf50';
                resultsDiv.innerHTML = `
                    <h3>âœ… ×ª×•×¦××•×ª ×‘×¤×•×¢×œ:</h3>
                    <ul>
                        <li><strong>×¡×”"×› ××¡×™×¨×•×ª ×¡× ×™×£:</strong> ${totalCars} (×¦×¤×™: 20)</li>
                        <li><strong>×”×™×œ×” ×©×œ×•××™ (×× ×”×œ×ª):</strong> ${hilaTotal}</li>
                        <li><strong>×©×™×¨ ×¢×œ×™××” (× ×¦×™×’):</strong> ${shirTotal}</li>
                        <li><strong>×™×”×‘ ×‘×Ÿ ×“×•×“ (× ×¦×™×’):</strong> ${yehavTotal}</li>
                        <li><strong>××©×¨ ×¢××¨ (×ª×¤×¢×•×œ):</strong> ${asherTotal}</li>
                    </ul>
                `;
                document.querySelector('.test-container').appendChild(resultsDiv);
            }, 500);
        }, 500);
    </script>
</body>
</html>
